{"version":3,"sources":["js/app.js","js/gallery.js","index.js"],"names":["preview","original","description","gallery","refs","ulJsEl","document","querySelector","liEl","divJSLightboxEl","closeBtn","modalImageEl","modalIsOpen","imageCardNextSibling","closeModalWindow","classList","remove","src","alt","insertAdjacentHTML","createGalleryItems","items","reduce","acc","galleryItems","addEventListener","onImageClick","e","preventDefault","target","contains","openModalWindow","source","dataset","closest","nextElementSibling","add","clickToOverlay","window","keydownToEsc","keyCode","keydownToArrowRightAndLeft","clickToLeftArrow","clickToRightArrow","foundIndex","findIndex","item","length","HTMLImageElement","prototype","console","log","addSrcAttrToLazyImages","lazyImages","querySelectorAll","onImageLoaded","forEach","image","once","img","addLazySizesScript","script","createElement","integrity","crossorigin","referrerpolicy","body","appendChild"],"mappings":";;;AAsRA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EArRe,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,wBAGf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,wBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,mBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,6BAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,qBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,iBAEf,CACEF,QACE,+EACFC,SACE,+EACFC,YAAa,oBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,yBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,yBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,wBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,yBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,yBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,oBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,wBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,mBAEf,CACEF,QACE,gF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","file":"src.add087ac.js","sourceRoot":"..\\src","sourcesContent":["// const galleryItems = [\r\nexport default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n  // доп.задание - добавить ленивую загрузку, если много картинок\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/12/15/02/53/flower-3876195_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/12/15/02/53/flower-3876195_960_720.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/03/26/16/38/nature-3263198_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/03/26/16/38/nature-3263198_960_720.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/02/09/21/46/rose-3142529_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/02/09/21/46/rose-3142529_960_720.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/02/08/22/27/flower-3140492_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/02/08/22/27/flower-3140492_960_720.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/01/05/16/24/rose-3063284_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/01/05/16/24/rose-3063284_960_720.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/02/17/19/08/lotus-1205631_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/02/17/19/08/lotus-1205631_960_720.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/10/09/00/55/lotus-978659_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/10/09/00/55/lotus-978659_960_720.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/33/flower-729512_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/33/flower-729512_960_720.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510_960_720.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/rose-729509_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/rose-729509_960_720.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2013/07/21/13/00/rose-165819_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2013/07/21/13/00/rose-165819_960_720.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2021/05/14/10/00/flowers-6253005_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2021/05/14/10/00/flowers-6253005_960_720.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295436_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295436_960_720.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295431_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295431_960_720.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/03/13/10/25/hummingbird-2139279_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/03/13/10/25/hummingbird-2139279_960_720.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2017/02/07/16/47/kingfisher-2046453_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2017/02/07/16/47/kingfisher-2046453_960_720.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/12/14/owl-1834152_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/12/14/owl-1834152_960_720.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/11/16/16/28/bird-1045954_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/11/16/16/28/bird-1045954_960_720.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/08/09/13/30/kingfisher-881594_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/08/09/13/30/kingfisher-881594_960_720.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/11/28/01/01/jay-548381_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/11/28/01/01/jay-548381_960_720.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2012/06/19/10/32/owl-50267_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2012/06/19/10/32/owl-50267_960_720.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2011/09/27/18/52/bird-9950_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2011/09/27/18/52/bird-9950_960_720.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2012/03/01/00/55/garden-19830_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2012/03/01/00/55/garden-19830_960_720.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2013/08/20/15/47/poppies-174276_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2013/08/20/15/47/poppies-174276_960_720.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\n// export default galleryItems;\r\n","import galleryItems from './app.js';\r\n\r\nexport const gallery = () => {\r\n  const refs = {\r\n    ulJsEl: document.querySelector('.js-gallery'),\r\n    // ulEl: document.querySelector('.gallery'),\r\n    liEl: document.querySelector('.gallery__item'),\r\n    // aEl: document.querySelector('gallery__link'),\r\n    // divLightboxEl: document.querySelector('lightbox'),\r\n    divJSLightboxEl: document.querySelector('.js-lightbox'),\r\n    closeBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n  };\r\n\r\n  // глобальные переменные\r\n  const modalImageEl = refs.divJSLightboxEl.querySelector('.lightbox__image');\r\n  let modalIsOpen = false;\r\n  let imageCardNextSibling = null;\r\n\r\n  // функция добавления/создания разметки\r\n  function createGalleryItems(items) {\r\n    return items.reduce((acc, { preview, original, description }) => {\r\n      acc = `${acc} <li class=\"gallery__item\">\r\n    <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n    >\r\n    <img\r\n    class=\"gallery__image\"\r\n    loading=\"lazy\"\r\n    data-src=\"${preview}\"\r\n    data-source=\"${original}\"\r\n    alt=\"${description}\"\r\n    width=\"390px\"\r\n    higth=\"240px\"\r\n    />\r\n    </a>\r\n    </li>\r\n    `;\r\n      return acc;\r\n    }, '');\r\n  }\r\n  refs.ulJsEl.insertAdjacentHTML('beforeend', createGalleryItems(galleryItems));\r\n\r\n  //  функция делегирования addEventListener на ul\r\n  function onImageClick(e) {\r\n    // когда кликаешь на img, отменить по умолчанию перезагрузку страницы\r\n    // превент действует только на событии(event/e)\r\n    e.preventDefault(); //\r\n\r\n    if (!e.target.classList.contains('gallery__image')) {\r\n      return;\r\n    }\r\n\r\n    // console.log({ h: e.target });\r\n\r\n    openModalWindow(e.target);\r\n  }\r\n  refs.ulJsEl.addEventListener('click', onImageClick);\r\n\r\n  // функция открытия модального окна - при клике на img добавлять класс is-open и открывать модальное окно\r\n  function openModalWindow(target) {\r\n    modalIsOpen = true;\r\n\r\n    // при открытии модального окна внести данные в src and alt\r\n    const { source } = target.dataset;\r\n    const gallery = target.closest('.gallery');\r\n\r\n    imageCardNextSibling = gallery.nextElementSibling;\r\n    imageCardNextSibling.classList.add('is-open');\r\n    // console.log(imageCardNextSibling);\r\n\r\n    modalImageEl.src = source;\r\n    modalImageEl.alt = target.alt;\r\n  }\r\n\r\n  // функция закрытия модального окна - при клике по closeBtn(крестик в модалке) закрыть модальное окно\r\n  function closeModalWindow() {\r\n    if (modalIsOpen) {\r\n      imageCardNextSibling.classList.remove('is-open');\r\n      modalImageEl.src = '';\r\n      modalImageEl.alt = '';\r\n\r\n      modalIsOpen = false;\r\n    }\r\n  }\r\n  refs.closeBtn.addEventListener('click', closeModalWindow);\r\n\r\n  //функция закрытия модального окна - при клике по оверлею\r\n  function clickToOverlay(e) {\r\n    if (e.target.classList.contains('lightbox__overlay')) {\r\n      closeModalWindow();\r\n    }\r\n  }\r\n  document.addEventListener('click', clickToOverlay);\r\n\r\n  // функция закрытия модального окна - при клике по клавише ESC\r\n  function keydownToEsc(e) {\r\n    if (e.keyCode === 27) {\r\n      closeModalWindow();\r\n    }\r\n  }\r\n  window.addEventListener('keydown', keydownToEsc);\r\n\r\n  // функция пролистывания галереи - при клике по клавише ArrowRight и ArrowLeft\r\n  function keydownToArrowRightAndLeft(e) {\r\n    const clickToLeftArrow = e.keyCode === 37;\r\n    const clickToRightArrow = e.keyCode === 39;\r\n\r\n    if (modalIsOpen && (clickToLeftArrow || clickToRightArrow)) {\r\n      const { src } = modalImageEl;\r\n      const foundIndex = galleryItems.findIndex(item => item.original === src);\r\n      let item = null;\r\n\r\n      if (foundIndex === 0 && clickToLeftArrow) {\r\n        item = galleryItems[galleryItems.length - 1];\r\n      } else if (foundIndex === galleryItems.length - 1 && clickToRightArrow) {\r\n        item = galleryItems[0];\r\n      } else if (clickToLeftArrow) {\r\n        item = galleryItems[foundIndex - 1];\r\n      } else {\r\n        item = galleryItems[foundIndex + 1];\r\n      }\r\n\r\n      if (item) {\r\n        modalImageEl.src = item.original;\r\n        modalImageEl.alt = item.description;\r\n      }\r\n    }\r\n  }\r\n  window.addEventListener('keydown', keydownToArrowRightAndLeft);\r\n\r\n  // функция lazyload с поддержкой нативной и библиотеки\r\n  function addSrcAttrToLazyImages() {\r\n    // attr - attribute\r\n    const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\r\n\r\n    // ленивая загрузка - проверка загружаемости картинок\r\n    lazyImages.forEach(image => image.addEventListener('load', onImageLoaded, { once: true }));\r\n    function onImageLoaded(e) {\r\n      console.log('Картинка загрузилась');\r\n    }\r\n\r\n    lazyImages.forEach(img => {\r\n      img.src = img.dataset.src;\r\n    });\r\n  }\r\n  function addLazySizesScript() {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\r\n    script.integrity =\r\n      'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\r\n    script.crossorigin = 'anonymous';\r\n    script.referrerpolicy = 'no-referrer';\r\n\r\n    document.body.appendChild(script);\r\n  }\r\n  // feature detection js(выявление возможностей браузера)\r\n  if ('loading' in HTMLImageElement.prototype) {\r\n    console.log('Браузер поддерживает lazyload');\r\n    addSrcAttrToLazyImages();\r\n  } else {\r\n    console.log('Браузер НЕ поддерживает lazyload');\r\n    addLazySizesScript();\r\n  }\r\n};\r\n// ------------------------------------------------------------------------\r\n// второй вариант решения - от Димы ментора\r\n// const refs = {\r\n//   gallery: document.querySelector('.gallery'),\r\n//   modal: document.querySelector('.js-lightbox'),\r\n//   modalImg: document.querySelector('.lightbox__image'),\r\n//   closeBtn: document.querySelector('[data-action=close-lightbox]'),\r\n// };\r\n\r\n// let activeIndex = 0;\r\n\r\n// const makeGalleryMarkup = ({\r\n//   preview,\r\n//   original,\r\n//   description,\r\n// }) => `<li class=\"gallery__item\">\r\n//   <a\r\n//     class=\"gallery__link\"\r\n//     href='${original}'\r\n//   >\r\n//     <img\r\n//       class=\"gallery__image\"\r\n//       src='${preview}'\r\n//       data-source='${original}'\r\n//       alt='${description}'\r\n//     />\r\n//   </a>\r\n// </li>`;\r\n\r\n// const markup = galleryItems.map(makeGalleryMarkup);\r\n\r\n// refs.gallery.insertAdjacentHTML('beforeend', markup.join(''));\r\n\r\n// function onOpenModal(e) {\r\n//   e.preventDefault();\r\n\r\n//   if (e.target.nodeName !== 'IMG') {\r\n//     return;\r\n//   }\r\n\r\n//   markup.forEach((el, index) => {\r\n//     if (el.includes(e.target.src)) {\r\n//       activeIndex = index;\r\n//     }\r\n//   });\r\n//   console.log(activeIndex);\r\n\r\n//   window.addEventListener('keydown', keyboardManipulation);\r\n\r\n//   refs.modal.classList.add('is-open');\r\n//   refs.modalImg.src = e.target.dataset.source;\r\n//   refs.modalImg.alt = e.target.alt;\r\n// }\r\n// refs.gallery.addEventListener('click', onOpenModal);\r\n\r\n// function closeModal() {\r\n//   refs.modal.classList.remove('is-open');\r\n\r\n//   window.removeEventListener('keydown', keyboardManipulation);\r\n\r\n//   refs.modalImg.src = '#';\r\n//   refs.modalImg.alt = '';\r\n// }\r\n\r\n// function onModalClose(e) {\r\n//   if (e.target.nodeName === 'IMG') {\r\n//     return;\r\n//   }\r\n//   closeModal();\r\n// }\r\n// refs.modal.addEventListener('click', onModalClose);\r\n\r\n// function keyboardManipulation({ key }) {\r\n//   switch (key) {\r\n//     case galleryItems.length - 1 > activeIndex && 'ArrowRight':\r\n//       activeIndex += 1;\r\n//       refs.modalImg.src = galleryItems[activeIndex].original;\r\n//       break;\r\n\r\n//     case activeIndex > 0 && 'ArrowLeft':\r\n//       activeIndex -= 1;\r\n//       refs.modalImg.src = galleryItems[activeIndex].original;\r\n//       break;\r\n\r\n//     case activeIndex === galleryItems.length - 1 && 'ArrowRight':\r\n//       activeIndex = 0;\r\n//       refs.modalImg.src = galleryItems[activeIndex].original;\r\n//       break;\r\n\r\n//     case activeIndex === 0 && 'ArrowLeft':\r\n//       activeIndex = galleryItems.length - 1;\r\n//       refs.modalImg.src = galleryItems[activeIndex].original;\r\n//       break;\r\n\r\n//     case 'Escape':\r\n//       closeModal();\r\n//       break;\r\n\r\n//     default:\r\n//       alert('что-то пошло не так');\r\n//   }\r\n// }\r\n","import './sass/main.scss';\r\nimport { gallery } from './js/gallery';\r\n\r\ngallery();\r\n"]}